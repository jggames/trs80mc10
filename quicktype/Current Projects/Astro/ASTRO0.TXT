100 REM
105 REM
110 REM 12~ REM
130 REM
140 REM
145 REM
150 REM
160 REM
i70 REM
171 REM
172 REM
173 REM
"ASTRO", CALC & PRINT ASTRONOMICAL POSITIONS, WALLACE R. RVST, 523 BRITTON ROAD, GREECE, NY 14616, VERSION! 9 JAN 198~
REFt "PRACTICAL ASTRONOMY WITH YOUR CALCULATOR", 2ND EDITION, BY PETER DUFFETT-SMITH, CAMBRIDGE UNIVERSITY PRESS, (C) 1981.
SECTION REFERENCES IN [ l.
LAMBDA, SETA • ECLIPTIC LONGITUDE, LATITUDE
ALPHA, DELTA : RIGHT ASCENSION, DECLINATION
EPOCH JAN 0,0 1980
180 REM CHANGE LINES ~000-5110 TO SUIT YOUR OWN PRINTER!
185 REM ENTER YOUR FAVORITE STATIONS AT LINES 2000-23901
190 REM
200 REM X--- TITLE PAGE
202 CLEAR 200
205 PLOT 6,3,12,14
210 PRINT TAB( 26)J 1PLOT 6,38JPRINT " > ASTRO < "
220 PLOT 6,3,15;PRINT 230 PRINT "THIS PROGRAM CALCULATES POSITIONS OF THE SUN, MOON, AND PLANETS."
240 PLOT 6,~1PRINT "TURN ON THE PRINTER!" 30~ REM I--- HOUSEKEEPING
310 DIM PP(8,6),SP(~),MP(7),R.(9),R(9,7)
330 REM
340 REM
350 REM
352 REM 3~4 REM
356 REM
358 REM
360 REM
362 REM
364 REM
366 REM
368 REM
380 REM
382 REM
384 REM
386 REM
388 REM
390 REM
392 REM
394 REM
395 REM
396 REM
397 REM
398 REM
PP(l,J) 1
1=0 EARTH
1 MERCURY
2 VENUS
:3 MARS
4 JUPITER
5 SATURN
6 URANUS
7 NEPTUNE
8 PLUTO
R (I, J) 1
I•0 SUN
1 MOON
2 MERCURY
3 VENUS
4 MARS
5 JUPITER
6 SATURN
7 URANUS
8 NEPTUNE
9 PI.UTO
J•0 PERIOD
1 LONG, AT EPOCH
2 LONG, AT PERIH.
3 ECCENTRICITY
4 SEMI-MAJ AXIS (AU) ~ INCLINATION
6 LONG, ASCEN. NOOE
J•0 LAMSDA
1 SETA
2 ALPHA
3 DELTA
4 HOUR ANGLE
5 AZIMUTH
6 ALTITUDE
7 PHASE
400 PI~ 3.1415926JP2s 6.28318~3tDR~ 57.29578tHR= 3.8197186
410 KAa 360JKB~ 365,2422tKC= 13,1763966!KD= .1114041
420 KE• .0529539!KF• 1,2739;KG= .1858tKH• .37 4~~ KI~ 6.2886tKJ~ .214tKK= .6583tKL• ,16 440 KM= ,001tKN• .065709822tKQ: 1.002738
450 KR: .996647!KS~ 6378140!KT• 6378,16tREM (#35,36] 500 REM I--- SUN ELEMENTS [P, 82J44] ~10 RESTORE 520
520 DATA 278,83354,282.596403, .016718,1,495985EB, ,533128 _521 DATA_23.441884 
520 DATA 278,88854,282,596403, .016718,1,495985E8, .538128 .521 DATA .23.441884 . _ 580 FOR J• 0TO 51 READ SP(J) 1NEXT
620 DATA 64,975464,849.388068,151.950429,5.145396,.0549,.5181,384401,.9507 630 FOR J• 0TO 71READ MP(J) 1NEXT
700 REM I--- EARTH, MERC, VEN, MARS-PLUTO ELEMENTS [P, 100] 705 RESTORE 710
710 DATA 1.00004,98.83354,102.5964,.016718,1,0,0
720 DATA .24085,231.2973,77,144218,.2056806,.3870986,7.0043579,48.094178 730 DATA .61521,855,78352,131,28958,.0067826,.7238316,3.394485,76.499752 750 DATA 1.68089,126,80788,335,690816,,0933865,1.5236883,1.8498011,49.4032 760 DATA 11,86224,146.966365,14.009549,.0484658,5.202561,1,8041819,100.25202 770 DATA 29,45771,165,32224,92,665897,.0556155,9.554747,2.4893741,113.48888 775 DATA 84,01247,228,07085,172.73633,.0463232,19,21814,.7729895,73.876864 780 DATA 164 , 79558,260.3579,47.867215,.0090021,30.10957,1.7716017,131,56065 785 DATA 250.9,209.439,222.972,.25887,39.78459,17.137,109.941
800 FOR I= 0TO 81FOR J• 0TO 61READ PP(I,J) 1NEXT 1NEXT
900 REM X--- NAMES
910 RESTORE 920
920 DATA "SUN", "MOON", "MERCURY", "VENUS", "MARS", "JUPITER"
921 DATA "SATURN" I "URANUS" I "NEPTUNE,, I "PLUTO II
930 FOR J= 0TO 9:READ R$(J) I NEXT
940 W$K "SUNMONTUEWEDTHUFRISAT"
950 M$• "JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC"
2000 REM X--- INPUT SITE
2010 PLOT 6,21PRINT 1PRINT "AVAILABLE SITESI ":PLOT 6,6 2020 PRINT " 1, -USER ' S CHOICE-"
2030 PRINT " 2, GREENWICH (LONDON)" 2040 PRINT " 8, NEW YORK, NY"
2050 PRINT " 4. MIAMI , FL"
2060 PRINT " 5, ERIE, PA"
2070 PRINT " 6, GREECE, NY (RUST'S HOME)" 2080 PRINT • 7, SAN DIEGO, CA"
2090 REM ADD #8 HERE
2100 REM ADD #9 HERE
2110 REM ADD #10 HERE
2120 REM
2200 PRINT 1PLOT 6,1:INPUT "ENTER YOUR CHOICE (1 TO 6): ";Q
2210 IF Q< lOR Q> 10THEN 2200
2220 ON QGOTO 2400,2302,2303,2804,2305,2806,2307,2308,2309,2310 2280 REM SY•LATITUDE; SX=LONGITIJOE; SE=ELEV IN METRES; TZ=TIME ZONES WESTWARD
2802 SY• 51.51SX= 0:SE~ 101TZ= 0sGOTO 2500
2308 SY• 40 , 721SX= 74.021SE• 10:T2= 5:GOTO 2500
2304 BY• 25,77:SX= 80,21BE• ~:TZ• 51GOTO 2500
2805 SY• 42,131SX• 80,06:SE= 2001T2= ~1GOTO 2500
2806 SYa 43,286251SX• 77,638941SE• 1131TZ~ 5sGOTO 2500
2307 SY= 32 , 76s5X= 117,2215E= 10:TZ= 8:GOTO 2500
2808 REM ADO #8 HERE
2309 REM ADO #9 HERE
2310 REM ADD #10 HERE
2390 REM
2400 PRINT !PLOT G,3
2410 INPUT "ENTER LATITUDE IN DEGREES: "1SY
2420 IF SY< - 90DR SY> 90THEN 2410
2480 INPUT "ENTER LONGITUDE IN DEGREES WEST OF GREENWICH: ";SX 2440 IF SX< 00R SX> 360THEN 2430 24~0 INPUT "ENTER ELEVATION IN METRES ABOVE SEA LEVEL: "lSE
2470 INPUT "ENTER TIME ZONE NUMBER (0 TO 28) 1 ";TZ
2480 TZ= INT (TZ) :IF TZ< 00R TZ> 23THEN 2470
2500 LA• SY/ OR
2505 REM I--- INPUT DATE & TIME
2510 PLOT 6,~1PRINT !PRINT "ENTER DATE OF INTEREST: ":PLOT 6,3 2520 INPUT "YEAR ( 1588 TO 2400) 1 " l TY
2580 TY= INT (TY) 1IF TY< 15830R TY> 2400THEN 2520
2540 INPUT "MONTH ( 1 TO 12): "; TM
2550 TM= !NT (TM) 1IF TM< lOR TM> i~THEN 2540
2560 INPUT "DATE (1 TO 31) 1 "lTD 2~70 TO: INT (TO) 1IF TO< lOR TO> 31THEN 2560
2580 PLOT 6,51PRINT "ENTER LOCAL STANDARD TIME OF INTEREST: ":PLOT 6,3 2590 INPUT "HOUR (0 TO 23) 1 ";TH
2600 TH• INT (TH) 1IF TH< 00R TH> 23THEN 2590
2610 INPUT "MINUTE (0 TO 60, 0) 1 "l TN
2620 IF TN< 00R TN> 60THEN 2610
2630 LM= TH+ TN / 60
2640 PRINT "IWAIT,' I.
27e0 REM X--- CALC DAYS SINCE JAN 0.0 1980
2701 REM [COMPUCOLOR 'BIORHYTHMS'] 2710 D1z TH/ 24+ TN/ 1440
2720 M9= (- ll* INT (((14- TM)/ 12)+ KM) 2730 J1= TO- 244709~+ INT ((1461* (TYt 480et M9) / 4)t KM) 2740 J2= J1t INT ((367* (TM- 2- 12* M9)/ 12)t KM) 2750 J1= J2- INT ((3* (TYt 4900+ M9 )/ 40e)t KM) 2760 WD= J1- 7* INT ((J1/ 7)t KM)t 11WO= INT (WO+ KM) 2770 DE= J1- 29219t 01
2800 REM X--- CALC WHOLE DAYS SINCE JAN 0.0 THIS YEAR
2801 REM [W. RUST]
~§1~ 5$= "000031059090120151181212243273304334"
2820 OJ= VAL (MID$ (0$,3* TM- 2,3))+ TO
2830 LY= 01IF TY/ 4~ INT (TV / 4)THEN LY=
2840 IF TY/ 400= INT (TV/ 400)THEN LY= 0
2850 IF TM> 2THEN DJ= OJ+ LV
3000 REM X--- LMT TO GMT [#9] 3010 GM= LM+ TZ : IF GM> = 24THEN GM= GM- 24
3030 REM X--- CALC GST AT JAN 0,0 THIS YEAR [#4,12] 3035 Yz TV- 1:A= INT (Y / 100) :8= 2- At INT (A/ 4) 3040 C= INT (365.25* Y) 1S~ 8+ C- 693597.51T~ S/ 36525
3045 R= 6,6460656t 2400.051262* Tt .0000
2581* T* T
3047 8= 24* TY- 45576- R
3050 REM X--- GMT TO GST [#12] 3070 T0= KN* OJ- 8
3080 X= T0+ KQ* GM1GOSUB 4050:GS= X
3100 REM
X--- GST TO LST [#14] 3110 LS= GS- SX/ 15 1IF LS< 0THEN LS= LS+ 24
3999 GOTO 10000
4000 REM X--- SUBR X=MOD(X,360) 4010 IF X< 0THEN X= X+ KA:GOTO 4010
4020 IF X> = KATHEN X= X- KA:GOTO 4020
4030 RETURN
4050 REM X--
- SUBR X=MOD(X,24) 4060 IF X< 0THEN X= X+ 24:GOTO 4060
4070 IF X> = 24THEN X= X- 24:GOTO 4070
4080 RETURN
4100 REM X--- SUBR A=ATN(Y/X) RADIANS
4110 IF X< > 0THEN 4140
4120 A= PI/ 2:IF Y< 0THEN A= 3* PI/ 2
4130 RETURN
4140 A= ATN (Y/ X) 1IF X< 0THEN A= At PI:RETURN
4150 IF Y< 0THEN A= At P2
4160 RETURN
4200 REM X--- SUBR X=MOD(X,2*PI) 4210 IF X< 0THEN X= X+ P2:GOTO 4210
4220 IF X> = P2THEN X= X- P2:GOTO 4220
4230 RETURN
4300 REM X--- SUBR OUTPUT PAGING
4310 IF Q$= "P"THEN RETURN
4320 INPUT "IPRESS X<RETURN> XFOR MORE, ,, ";A$:PLOT 6,3
:RETURN
5000 REM X--- SUBR SELECT PRINTER
5010 POKE 33289,80:PLOT 15,27, 18,4,27,13:0UT 8,4 5020 PLOT 30,19,27,28,27, 19:REM PRINTER FONT
5030 RETURN
5100 REM !--- SUSR SELECT CRT
5110 . OUT_ 8, 25.5: POKE . 33265, 0: POKE . 33289, 64
.t RETURN
9999 REM
10000 REM X--- SUN CALC [#42) 10010 X: KA* DE/ K81GOSUB 4000!N= X
10020 X= Nt SP(0)- SP(1) :GOSIJB 4000:SM= X/ DR
10030 E~ KA* SP(2l* SIN (SM)/ PI
10040 x~ Nt E+ SP(0) :GOSUB 4000:SL=
X/ DR
10050 R(0,0)= SL:R(0,1)= 0:REM SUN LAMBDA, BETA (RAD) 10060 R(0,7):c 1
11000 REM X--- MOON CALC [#61] 11010 X= KC* DE+ MP(0) 1GOSU8 4000:L= X
11020 X= L- KD* DE- MP(1) 1GOSU8 4000:MM= X/ DR
11030 X= MP(2)- KE* DE:GOSUB 4000:N= X
11040 C= L/ DR- SL1EV: KF* SIN (2* C- MM) 11050 AE= KG* SIN (SM) 1A8= KH* SIN (SM) 11060 X= MM+ (EV- AE- A3)/ DR:MM= X:REM CORRECTED ANOMALY
11070 EC; KI* SIN (MM)
11080 A4= KJ* SIN (2* MM) 11090 L= L+ EV+ EC- AE+ A4 
11095 D; L/ DR- SL
11100 Va KK* SIN (2* D) 11110 LD Lt v
11120 Nz N- KL* SIN (SM) 11125 J1= (L- Nl/ DR
11130 'f; SIN (J1) * COS IMP (3 ) I DR) 11140 X= COS (J1)
11150 GOSUB 4100;X; A+ N/ DR:GOSUB 4200:R(1,0); X:REM MOON LAMBDA IRAD ) 11160 J2= SIN (J1) * SIN (MP (3) I DR) 11170 R(1,1)= ATN (J2/ SQR (1- J2* J2)) :REM MOON BETA (RADI 11180 REM [#63] 11190 R(1,7); (1- COS (D))/ 2:REM MOON PHASE
12000 REM X--- EARTH CALC [#50] 12010 X= KA* DE/ K8/ PP(0,0) :GOSUS 4000:NE: X
12020 ME= NE+ PP(0,1)- PP(0,2)
12030 X= NEt KA* PP(0,3l* SIN (ME/ DR)/ PI+ PP(0,1) :GOSU8 4000:LE= X
12040 VE= LE- PP(0,2) 12050 RE= (1- PP(0,3l* PP(0,3))/ (1+ PP(0,3l* COS (VE / DR)) 13000 REM X--- BEGIN MERCURY THRU PLUTO CALC [#50] 13005 FOR J= iTO 8
13010 X= KA* DE/ KB/ PP(J,0) :GOSUB 4000:NP= X
13020 MP= NP+ PP(J,i)- PP(J,2)
13030 X= NP+ KA* PP(J,3)* SIN (MP/ DR)/ Pit PP(J,i) :GOSU8 4000:LP= X
13040 VP= LP- PP(J,2)
13050 RP= PP(J,4)* (1- PP(J,3)* PP(J,3))/ 11+ PP(J,3)* COS (VP/ DR)) 13060 REM
13065 J9= ILP- PP(J,6))/ OR
13070 J1= SIN (J9)* SIN IPP (J,5) / DR) 13080 PS= ATN IJ1/ SQR (1- J1* J1)) 13090 Y~ SIN (J9)* COS (PP(J,5)/ DR)
13110 13100 GOSUB X= COS 4100:LP= (J9) A* DR+ PP(J,6) * · 13120 RP= RP* COS IPS) 13200 IF J) 2THEN 15000
14000 REM 1--- CONTINUE MERC & VENUS CALC [#50] *
14010 J9= (LE- LP)/ DR
14020 YG RP* SIN (J9) :X= RE- RP* COS (J9) 14030 GOSUB 4100
14040 X= 180+ LE+ A* DR:GOSUB 4000:LD= X/ DR
14041 R(J+ 1,0)= LD:REM PLANET LAMBDA (RAD) 14045 D; LD- LP/ DR
14050 Y= RP* TAN IPS)* SIN (D) 14060 X: RE* SIN (- J9) 14070 A= ATN (Y/ X) :R(J+ 1,1 )= A:REM PLANET BETA (RAD) 14080 REM [#54]
14090 RIJ+ 1,7)= (1+ COS ID))/ 2:REM PLANET PHASE
14100 NEXT J
15000 REM I--- CONTINUE MARS-TO-PLUTO CALC (#50] * 1501~ J9= ILP- LE)/ DR . 15020 Y= RE* SIN (J9) :X= RP- RE* COS (J9 ) 15030 GOSU8 4100: X= A* DR+ LP:GOSUB 4000
15035 LD= XI DR:R (J+ 1,0)= LD:REM PLANET LAMBDA (RAD) 15040 D= LD- LP/ OR
15050 Y= RP* TAN (PSI* SIN (D) :X= RE* SIN (J91
15060 A= ATN (Y/ X):RIJ+ 1,1)= A:REM PLANET BETA (RAD) 15065 REM [#54]
15070 R(J+ 1, 7)= (1+ COS (0) )/ 2:REM PLANET PHASE
15080 NEXT J 1~100 REM WE NOW HAVE LAMBDA & BETA FOR ALL BODIES
16000 REM X--- CONVERT (LAMBDA,BETA) TO (ALPHA,DELTA) [#27] 16090 EP3 SP(5)/ DR
16100 FOR I= 0TO 9
16110 Jt: SIN (R(I,1))* COS (EP)+ COS (R(I,1)1* SIN IEPl* SIN (R(I , 0)) 16120 R (I ,3).: ATN (J11 SQR ( 1- Ji* J1)): REM DELTA (RAD) 16125 REM
16130 Y= . sIN ( R (I I 0) ) * cos ( EP)- TAN ( R (I I 1) ) * sIN ( EP) 16140 XK cos (R(I,0)) 16150 GOSUB 4100:R(I , 2)= A1REM ALPHA (RAD )
16160 NEXT I
16300 REM X--- CALC HOUR ANGLE [#24]
16320 FOR I= 0TO 9
16330 X= LS- RII,2l* HR:GOSUB 4050:HA= X/ HR
16340 R(I,4)G HA:REM HOUR ANGLE (RAD)
16350 NEXT I
16500 REM 1--- MOON PARALLAX [#65] 
16510 Y= 1- MP(4)* MP(4) 16511 X= 1+ MP(4)* COS (MM+ EC/ DR) :PA= Y/ X
16520 PK; PA* MP(6) :PH= MP(7)/ PA/ DR
16800 REM X--- MOON PARALLAX [#35] 16810 u~ ATN (KR* TAN (LA)) :H= SZ/ KS
16820 PB= KR* SIN (U)t H* SIN (LA) :PC= COS (U)t H* COS (LA) 16900 REM I--- MOON PARALLAX [#36] 16910 HA= R(1,4) :R= 1/ SIN (PH) 16920 Y= PC* SIN (HA) :X~ R* COS (R(1,3))- PC* COS (HAl 16930 D= ATN (Y/ X) :Hi= HAt D
16935 R(1,4)= H1:REM CORR. MOON HA
16940 R(1,2l= R(1,2)- D:REM CORR. MOON ALPHA 169~0 Y= R* SIN (R(1,3))- PB:X= R* COS (R(1,3))* COS (HA)- PC
16960 R(1,3)= ATN (COS (H1l* Y/ X) :REM CORR. MOON DELTA
17140 REM %--- CONVERT (ALPHA, DELTA) TO (AZ, ALT) (#25) 17150 FOR I= 0TO 9
17155 HA= R(I,4)
17160 J1= SIN (R(I,3ll* SIN (LA)t COS (R(I,3ll* COS (LA)* COS (HAl 17170 AL= ATN (J1/ SQR (1- J1* J1)) :R(I,6)= AL:REM ALTITUDE (RAD) 17180 REM
17190 Y= SIN (R(I,3))- SIN (LAl* J1
17200 X= COS (LA)* COS (ALl :J2= Y/ X
17210 A= ATN (SQR (1- J2* J2)/ J2l
17220 IF J2< 0THEN A= A+ PI
17221 IF HA< PITHEN A= P2- A
17230 R(I,5)• A:REM AZIMUTH (RAD) 17300 NEXT I
20000 REM X--- PRINT RESULTS
20010 PLOT 12
20020 Q$= "S":REM RESULTS TO SCREEN FIRST
20030 IF Q$= "P"THEN GOSU8 5000
20080 W1$= MID$ (W$,WD* 3- 2,3) 20090 M1$= MID$ (M$,TM* 3- 2,3) 20100 PRINT "SKY POSITIONS FOR"1TY;" "IW1$;" "IM1$;" ";TO 20110 PRINT
20120 PRINT "LOCAL STANDARD TIME: ";TH;" HOURS, ";TN;" MINUTES"
20130 PRINT
20140 PRINT "FOR LAT. ";SYI II
__ 20150 PRINT LONG. 'JIEST" ; SX l " ELEV. "l SE l II METRES,,
20160 PRINT "DAYS SINCE JAN 0 THIS YEAR: ";OJ 20170 PRINT
20180 PRINT "TIMES IN HOURS: LMT =";LM;TAB( 36); "GMT =";GM
20190 PRINT " LST =";LS;TAB( 36); "GST =";GS 20200 PRINT :PRINT
20210 PRINT "
20220 PRINT "
20230 PRINT "BODY
20240 PRINT
20300 FOR I= 0TO 9
ECLIPTIC
LONG.
(DEG)
ECLIPTIC
LAT.
(DEG)
RIGHT
ASCENSION*
(HOURS)
20310 PRINT R$(l);TA8( 12);R(I,0)* DRJTAB( 24);R(I,1)* DRJ
20320 PRINT TAB( 36) ;R(I,2l* HR;TAB( 48);R(I,3l* DR
20350 NEXT I
20500 PRINT :PRINT
20510 GOSUB 4300
20520 PRINT "
20530 PRINT "BODY
20540 PRINT
20600 FOR Ia 0TO 9
HOUR ANGLE* AZIMUTH*
(DEG WEST) (DEG)
AL TITIJDE*
(DEG)
20610 PRINT R$(I);TAB( 12)JR(I,4l* DR1TA8( 24);R(I,5)* DRl
20620 PRINT TAB( 36)JR(I,6)* DR;TAB( 48);R(I,7) 20650 NEXT I
DECLI-"
NATION*"
(DEG)"
PHASE"
(0 TO 1)"
20660 PRINT :PRINT "*MOON POSITIONS ARE CORRECTED FOR PARALLAX. ":PRINT
20670 GOSUB 4300
20700 PRINT "THE ABOVE ANGLES IN RADIANS1 ":PRINT
20710 FOR I» 0TO 9
20720 FOR J= 0TO 6
20730 PRINT TAB( J* 11.5)1R(I,Jll 20740 NEXT J:PRINT :NEXT !:PRINT :PRINT
20750 IF Q$~ "P"THEN 30000
20760 INPUT "XDO YOU WANT ABOVE RESULTS SENT TO PRINTER? (lY XOR XNX) ";A$ 20770 IF A$= "Y"THEN Q$= "P":GQTO 20030
30000 GOSUB 51001GOTO 2000
30010 END
60000 REM 1--- LIST ON PRINTER
60010 GOSUS 5000:LIST :PRINT :GOSUB 5100:END
