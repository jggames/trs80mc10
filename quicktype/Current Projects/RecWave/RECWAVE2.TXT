2 R$="ANNOUNCE":        GOSUB20
4 R$="SELECT THE WAY THE PULSE-WIDTHS ARE ENTERED":  GOSUB40
6 IF SEL$="I" THEN 60: REM(ENTER P.WS. INDIVIDUALLY)
8 IF SEL$="W" THEN 80: REM(GENERATE P.WS. BY WK.APRX)
10 END
17 R$="HOW TO LET Y=2PEEKZ": Y=256*PEEK(Z)+PEEK(Z+1): RETURN
19 R$="HOW TO DO 2POKE Z,Y": POKE Z, INT(Y/256): POKE Z+1, Y-256*INT(Y/256): RETURN
20 CLS:PRINT"RECT(ANGULAR )WAVE 1/20/86"
22 PRINT"   BY   RICHARD N CAIN                  P.O.BOX 147                     VALENCIA, PA                    16059": PRINT
24 PRINT"   THIS PROGRAM GENERATES IN THETV SOUND A WAVE CONSISTING OF ALTERNATING POSITIVE AND NEGATIVE PULSES OF ADJUSTABLE";
26 PRINT" WIDTHS--A RECTANGULAR WAVE. EITHER ENTER  THESE PULSE WIDTHS INDIVIDUALLY,OR GENERATE THEM BY MEANS OF AN ALGORITHM";
28 PRINT"M THAT PERFORMS WEAK AP-PROXIMATION OF YOUR OWN F(T);
30 R$="TURN PAGE":     GOSUB300
32 RETURN
40 REM(HOW TO SELECT THE WAY THE PULSE-WIDTHS ARE ENTERED)
42 R$="ANNOUNCE MENU": GOSUB 420
44 INPUT SEL$
46 RETURN
60 REM(HOW TO ENTER P.W. INDIV.)
62 R$="LET Z=FILE ORG":GOSUB 620
64 R$="ANNC.INDIV.ENT.":GOSUB660
68 R$="ENTER ONE P.W.":GOSUB 680
70 R$="HOW TO CONT.OR CLOSE FL": LET I=I+1:Z=Z+2:D=4: IF P><0 THEN 68: REM(CONT.FL)
72 R$="GENERATE WAVE": GOSUB 100
100 REM(HOW TO GENERATE WAVE)
102 W$="": Z=VARPTR(W$)+2: R$="Y=2PEEK(Z)": GOSUB 17:W=Y+81: EXEC W: REM‚8‰#:5‰ˆ„†8‰82„„ˆ8Z&ˆ€‰‡„†‚80A88%ƒˆ‰€€7„€€%Ž‚€€8‹
300 REM(HOW TO TURN PAGE)
302 LET TP=1600
304 IF INKEY$ >< "" THEN 308: REM(I.E., EXIT AFTER KEY)
306 LET TP=TP-1: IF TP>0 THEN 304: REM(I.E., COUNT 20 SECONDS)
308 R$="EXIT": CLS: RETURN
420 REM(HOW TO ANNOUNCE MENU)
422 PRINT"  HOW ARE THE PULSE WIDTHS TO BESPECIFIED (ENTER SYMBOL BELOW)": PRINT
424 PRINT"INDIVIDUALLY ................. I";
426 PRINT"BY WEAK APPROXIMATION ........ W"
438 RETURN
620 REM(HOW TO LET Z=FILE ORIGN)
621 R$="ENT.ALL VAR.":GOSUB 6210
622 LET Z=153: R$="LET Y=2PEEKZ": GOSUB 17: R$="ADD PROG.LGTH": Z=Y+19: C=Y: RETURN
660 REM(HOW TO ANNOUNCE IND.EN.)
662 CLS: PRINT"  ENTER EACH PULSE DURATION IN  UNITS OF 6.70 MICROSECONDS. (USEINTEGERS N IN THE RANGE               D =< N";
664 PRINT" =< 65535         WHERE D=5 FOR THE FIRST PULSE, 4FOR THE REMAINING ONES.)   ENTERZERO TO INDICATE WHEN THROUGH."
666 PRINT:PRINT" FOR EXAMPLE, IF ONE ENTERS     '170', '170', '0', THE RESULTINGWAV WILL BE A SQUARE WAVE WITH FREUQNECY 439";
668 PRINT" HERTZ ('A' ABOVE MIDDLE 'C'), BY THE CALCULATION   439 = 1/((170+170)*6.70E-6) .": PRINT
670 RETURN
680 REM(HOW TO ENTER ONE P.W.)
682 PRINT"WIDTH NO.";STR(I); "=";: INPUT P
684 R$="HOW TO EXAMINE P": IF ((D=<P) AND (P<65536)) OR (P=0) THEN 688: REM(P OK)
686 R$="ANNC.WRONG P":GOSUB6860
688 R$="HOW TO ACCT.FR.PROG TM": IF P><0 THEN P=P-D+1
690 R$="HOW TO COMPLETE ENTRY": Y=P: R$="2POKE Z,Y":GOSUB19: RETURN
6210 REM(HOW TO ENTER ALL VARS.)
6212 Z=0: Y=0: I=0: D=0:P=0: W$="": W=0
6214 C=0: RETURN
6860 REM(HOW TO ANNOUNCE WRNG P)
6862 PRINT: PRINT"PLEASE RESPECIFY."
6864 PRINT"(YOU'VE JUST GIVEN P OUTSIDE THEREQUIRED INTERVAL            "; D; "=< P =<65535 .)"
6866 SOUND 150,1:SOUND240,3
6868 PRINT: RETURN
