10 CLS:DIMH(3)
20 PR1NT@8,"towers of hanoi":PRINT
30 PRINT"NUMBER OF RINGS (2-9)
40 A$ =1NKEY$:IF A$ < "2" OR A$:.:
"9" THEN 40
50 N = VAL(A$):H(0) = N:PRINT@64
60 FORK = 0T08:FORJ = 0T02:PRINT
@165+ K*32 +J*9,CHR$(175) +
" " + CHR$(175);:NEXTJ,K
70 FORK = 0T02:PRINT@453 + K*9,
STRING$ (3,175);:NEXT 

80 FORK = 1TON:POKE1478 — 32*K,
49+ N — K:NEXT
90 TT =1:TF = 0: R = 2
100 GOSUB1000
110 PRINT@65,"NUMBER OF MOVES
TAKEN = ";INT(21N —1)
120 PRINT" ❑ PRESS A KEY TO RUN AGAIN"
130 IF INKEY$=`"' THEN 130
140 RUN
1000 IF N=0 THEN RETURN
1010 N=N-1:W= R:R = TT:TT = W:GOSUB
1000:W= R:R = TT:TT = W
1020 POKE1478 + 97F — H (TF),
96:H(TF)=H(TF)-1:H(TT)=H(TT)
+ 1: POKE1478 + 9*7T — 32*H (7),49 + N
1030 W= R:R = TF:TF =W:GOSUB
1000:W = R:R =TF:TF =W
1040 N=N+1:RETURN 
