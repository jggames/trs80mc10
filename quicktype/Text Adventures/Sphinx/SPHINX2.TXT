0 CLEAR400:MC=16384:SOUND83,1
1 CLS3:PRINT@232,"EDICIEL PRESENTS";:FORX=1TO1500:NEXTX:POKE49151,64:CLS3:Z=1:GOSUB27
3 H3$="BY L.SCHWARTZ":H1$="(C)1984 EDICIEL MATRA HACHETTE":H2$="the golden sphinx":A=12:B=47:Y=21
5 FORX=ATOB:SET(X,Y,8):NEXTX:A=A+2:B=B-2:Y=Y-2:IFY>3THEN5
6 FORZZ=21TO3STEP-1:RESET(11+CC,ZZ):RESET(48-CC,ZZ):CC=CC+1:NEXT:RESET(23,21):RESET(23,20):RESET(22,20)
7 RESET(22,21):PRINT@481,H1$;:PRINT@390,H2$;:PRINT@424,H3$;:FORX=1TO7000:NEXTX:CLS:ONOTGOTO10,10,10,29:GOTO10
8 ZZ=1:CC=32:FORCC=CCTOZZSTEP-1:I$=MID$(M$,CC,1):IFI$=" "ORI$=""THEN?MID$(M$,ZZ,CC-ZZ):ZZ=CC+1:CC=ZZ+32:IFI$=""THENCC=0
9 CC=CC+(CC>255)*(CC-255):NEXT:M$="":RETURN
10 POKE49151,16:READM$:PRINTM$:PRINT:FORZZ=1TO250:NEXT:GOSUB24:READM$:GOSUB8:GOSUB24:READM$:GOSUB8
11 GOSUB24:READM$:GOSUB8:GOSUB24:READM$:GOSUB8:GOSUB24:READM$:GOSUB8:GOSUB24
12 GOSUB24:READM$:GOSUB8:GOSUB24:READM$:GOSUB8:GOSUB24:READM$:GOSUB8:GOSUB24
13 FORX=1TO4000:NEXTX:CLS:M$="YOU HAVE 250 LIVRES, A TICKET FROM FRANCE TO PORT SAID, AND A MAP OF THE TOMB.":GOSUB8
14 FORX=1TO7000:NEXTX:GOTO25
15 DATA"DATE 1 APRIL 1999"
16 DATA"SENDER: L.SCHWARTZ EDICIEL"
17 DATA"RECIPIENT: PROF. M. ALICIEU"
18 DATA"SUBJECT: *operation sphinx*"
19 DATA"CODE NUMBER: <S.F.1>"
20 DATA"- FOLLOWING THE RECENT DISCOVERIES MADE BY PROFESSOR PH. TIPHON, WE BELIEVE THE GOLDEN SPHINX IS LOCATED"
21 DATA"IN THE TOMB OF DEKIH OSK."
22 DATA"- DEPART FOR PORT SAID TO FIND THE OBJECT."
23 DATA"p.s. WAIT FOR THE ARRIVAL OF OUR AGENT THERE."
24 FORCC=1TO10:SOUND210,1:FORZZ=1TO50+RND(50):NEXT:NEXT:RETURN
25 CLS:FORZZ=1TO2500:NEXT
26 GOTO240
27 FORY=11TO14:PRINT@32*Y,"":NEXT:GOSUB75
28 RESET(56,1):RESET(58,1):RESET(60,1):RESET(62,1):RESET(58,2):RESET(60,2):RESET(62,2):RESET(60,4):RESET(62,4):RETURN
29 CLS:PRINT:M$="YOU ARRIVE IN FRONT OF THE PYRMAID DOOR. AN OLD SAGE GUARDS THE ENTRANCE. "
30 M$=M$+"HE WILL ASK YOU THREE QUESTIONS THAT YOU MUST ANSWER.":GOSUB8
31 PRINT@483,"hit space bar to continue";
32 AA$=INKEY$:IFAA$=""THENNB=NB+1:GOTO32
33 CLS8:OT=0:POKE49151,64
34 GOSUB35:GOTO42
35 CLS8:PRINT"ÿÿÿÿÿÿÿþüüüüüüüüüüüüüüüüüÿÿÿÿÿÿÿ";:PRINT"ÿÿÿÿÿÿþöööööööööööööööööööÿÿÿÿÿÿ";
36 PRINT"ÿÿÿÿÿþöòóóóóóóóóóóóóóóóóôööÿÿÿÿÿ";:PRINT"ÿÿÿÿþôôðüüüüüüüüüüüüüüüüôôôõÿÿÿÿ";
37 PRINT"ÿÿÿÿúúúúÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿõõõõÿÿÿÿ";:PRINT"ÿÿÿÿúúúúÿÿüüüÿÿÿÿÿÿüüüÿÿõõõõÿÿÿÿ";
38 PRINT"ÿÿÿÿúúúúÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿõõõõÿÿÿÿ";:PRINT"ÿÿÿÿûûûúÿÿÿÿÿÿÿÿõÿÿÿÿÿÿÿõ÷÷÷ÿÿÿÿ";
39 PRINT"ÿÿÿÿÿÿÿûôÿÿÿÿÿÿùóýÿÿÿÿÿþõÿÿÿÿÿÿÿ";:PRINT"ÿÿÿÿÿÿÿÿûôÿÿÿÿÿÿÿÿÿÿÿÿþñÿÿÿÿÿÿÿÿ";
40 PRINT"ÿÿÿÿÿÿÿÿÿûôÿÿþóóóóöÿÿþñÿÿÿÿÿÿÿÿÿ";:PRINT"ÿÿÿÿÿÿÿÿÿÿûôÿÿóóóó÷ÿþñÿÿÿÿÿÿÿÿÿÿ";
41 PRINT"ÿÿÿÿÿÿÿÿÿÿÿûôýÿÿÿÿÿüñÿÿÿÿÿÿÿÿÿÿÿ";:PRINT"ÿÿÿÿÿÿÿÿÿÿÿÿÿóóóóóó÷ÿÿÿÿÿÿÿÿÿÿÿÿ";:RETURN
42 GOSUB75:PRINT@448,"YOU MUST FIND THE NUMBER I HAVE CHOSEN BETWEEN 0 AND 999,";
43 FORX=1TO5000:NEXTX:GOSUB75:PRINT@448,"IN LESS THAN 10 TRIES.";:B=0
46 FORX=1TO5000:NEXTX:GOSUB75:PRINT@448,"ARE YOU READY?":INPUTR1$:IFR1$="Y"ORR1$="YES"THEN48
47 GOSUB75:PRINT@448,"OKAY... I'LL WAIT";:FORY=1TO14:PRINT".";:FORX=1TO500:NEXTX:NEXTY:GOTO42
48 NB=(INT(RND(0)*NB)^2)*1000
49 IFNB>999THENNB=INT(NB/10):GOTO49
50 IFB=9THEN58
51 R4=0:R3=10:R1=0:GOSUB75:PRINT@448,"ENTER YOUR NUMBER":INPUTR1:SOUND1,1:B=B+1
52 IFR1=NBTHEN55
53 IFR1<NBTHEN56
54 IFR1>NBTHEN57
55 GOSUB75:PRINT@448,"YOU HAVE WON...":FORX=1TO100:SOUNDX,1:NEXTX:GOTO60
56 GOSUB75:PRINT@448,"YOU ARE UNDER...":FORX=1TO4000:NEXTX:GOTO50
57 GOSUB75:PRINT@448,"YOU ARE OVER...":FORX=1TO4000:NEXTX:GOTO50
58 FORX=20TO30:SET(X,21,7):NEXTX:SET(19,20,7):SET(18,20,7):SET(31,20,7):SET(32,20,7)
59 FORX=0TO416STEP32:PRINT@X,"YOU HAVE LOST";:SOUND1,1:NEXTX:GOTO153
60 GOSUB75:PRINT@448,"THE SECOND TASK":FORX=1TO6000:NEXTX
61 GOSUB75:PRINT@448,"YOU MUST DISCOVER THE CORRECT,  ORDER OF THE PIECES...";:FORX=1TO6000:NEXTX
62 GOSUB75:PRINT@448,"GREEN=PIECE IS IN RIGHT PLACE,  WHITE=PIECE IS IN WRONG PLACE.";:FORX=1TO6000:NEXTX
64 GOSUB75:PRINT@448,"DO YOU UNDERSTAND?":INPUTR1$:IFR1$="Y"ORR1$="YES"THEN66
65 GOTO61
66 CLS0:POKE49151,64:FORX=35TO63STEP28:FORY=0TO26:SET(X,Y,8):NEXTY:NEXTX
67 FORY=0TO26STEP26:FORX=35TO63:SET(X,Y,8):NEXTX:NEXTY:X=49:FORY=0TO13STEP2:PRINT@Y*32,CHR$(X);:X=X+1:NEXT:GOTO76
68 PRINT@32*B+A,CHR$(42);:RETURN
69 PRINT@32*B+A,CHR$(95);:RETURN
70 PRINT@32*B+A,CHR$(94);:RETURN
71 PRINT@32*B+A,CHR$(43);:RETURN
72 PRINT@32*B+A,CHR$(79);:RETURN
73 PRINT@32*B+A,CHR$(63);:RETURN
74 PRINT@32*B+A,CHR$(73);:RETURN
75 PRINT@448," ":PRINT@480,"                               ";:POKEMC+511,96:RETURN
76 A=2:B=0:GOSUB68:B=2:GOSUB69:B=4:GOSUB70:A=2:B=6:GOSUB71:B=8:GOSUB72:B=10:GOSUB73:B=12:GOSUB74
77 D=18:B=1:S1=RND(7):S2=RND(7):S3=RND(7):S4=RND(7):S5=RND(7)
78 PRINT@448,"ENTER PIECE #":R1$=INKEY$
79 R1=VAL(R1$):IFR1<1ORR1>7THEN78
80 A=D:A=A+2:D=A:E=E+1:IFE=6THENA=20:B=B+1:E=1:D=A
81 GOTO92
82 ONR1GOSUB85,86,87,88,89,90,91
83 IFGA=5THENGA=0:GOTO135
84 GOTO78
85 GOSUB68:RETURN
86 GOSUB69:RETURN
87 GOSUB70:RETURN
88 GOSUB71:RETURN
89 GOSUB72:RETURN
90 GOSUB73:RETURN
91 GOSUB74:RETURN
92 ONEGOSUB95,99,103,107,111,115,116
93 IFE=5THEN127
94 GOTO82
95 IFR1=S1THEN97
96 GOTO116
97 IFK1=1THENV=V-1:GOSUB116
98 W=W+1:K1=1:RETURN
99 IFR1=S2THEN101
100 GOTO116
101 IFK2=1THENV=V-1:GOSUB116
102 W=W+1:K2=1:RETURN
103 IFR1=S3THEN105
104 GOTO116
105 IFK3=1THENV=V-1:GOSUB116
106 W=W+1:K3=1:RETURN
107 IFR1=S4THEN109
108 GOTO116
109 IFK4=1THENV=V-1:GOSUB116
110 K4=1:W=W+1:RETURN
111 IFR1=S5THEN113
112 GOTO116
113 IFK5=1THENV=V-1:GOSUB116
114 W=W+1:K5=1:RETURN
115 STOP:REM MISSING LINE
116 IFK1=1THEN118
117 IFR1=S1THENV=V+1:K1=1:RETURN
118 IFK2=1THEN120
119 IFR1=S2THENV=V+1:K2=1:RETURN
120 IFK3=1THEN122
121 IFR1=S3THENV=V+1:K3=1:RETURN
122 IFK4=1THEN124
123 IFR1=S4THENV=V+1:K4=1:RETURN
124 IFK5=1THEN126
125 IFR1=S5THENV=V+1:K5=1:RETURN
126 RETURN
127 IFW=0THEN129
128 FORX=1TOW*2STEP2:SET(10+X,B*2+1,1):NEXTX
129 IFV=0THEN131
130 FORX=1TOV*2STEP2:SET(20+X,B*2+1,5):NEXTX
131 IFW=5THENGA=5:P=0
132 K1=0:K2=0:K3=0:K4=0:K5=0:V=0:W=0
133 P=P+1:IFP=12THENP=0:CLS:GOSUB35:GOTO58
134 GOTO82
135 FORX=1TO100:SOUNDX,1:NEXTX:FORX=1TO30:SOUND100,1:NEXTX:GOSUB75:PRINT@448,"YOU'VE WON!!!"
136 FORX=1TO5000:NEXTX:CLS:GOSUB35:GOSUB75:PRINT@448,"MY THIRD QUESTION......":FORX=1TO4000:NEXTX
137 GOSUB75:PRINT@448,"WHAT IS BEST COMPUTER MADE BY   MATRA ET HACHETTE";
138 INPUTR1$
139 IFR1$="ALICE"ORR1$="THE ALICE"THENGOSUB75:PRINT@448,"HUM HUM.....VERY ASTUTE...":GOTO143
140 IFR1$="MC-10"ORR1$="THE MC-10"THENGOSUB75:AA=1
141 IFAA=1THENPRINT@448,"YOU'RE CLOSE... TRY AGAIN":FORX=1TO6000:NEXTX:GOTO137
142 GOSUB75:PRINT@448,"I'LL GIVE YOU A HINT...         IT'S RED!":FORX=1TO6000:NEXTX:GOTO137
143 FORX=1TO150:Y=INT(RND(0)*100)+1:SOUNDY,1:NEXTX
144 GOSUB75:PRINT@448,"THE SAGE STEPS ASIDE AND ALLOWS YOU TO ENTER THE PYRAMID..."
145 FORX=1TO7000:NEXTX:CLS:M$="CONGRATULATIONS, YOU HAVE COMPLETED YOUR MISSION... THE GOLDEN SPHINX"
146 M$=M$+" HAS BEEN FOUND!":GOSUB8:PRINT
148 PRINT:PRINT:M$="THANK YOU FOR PLAYING the golden sphinx.":GOSUB8:PRINT:PRINT
153 CLS:PRINT"DO YOU WANT TO TRY AGAIN?":INPUTR1$
154 IFR1$="YES"ORR1$="Y"THENCLS:T=0:E=0:GOTO34
155 IFR1$="NO"ORR1$="N"THENCLS:END
156 GOTO153
240 LI=100:AA=0
250 CLS(3):Z=6:GOSUB300
260 PRINT@1*32,"¯¯¯¯¯¯¯¯¯¯¯®ó­¯¯¯¯¯¯¯¯¯";:PRINT@2*32,"¯¯¯¯¯¯¯¯¯¯®ÇÿË­¯¯¯¯¯¯¯¯";:PRINT@3*32,"¯¯¯¯¯¯¯¯¯®ÇÉÿÆË­¯¯¯¯¯¯¯";
261 PRINT@4*32,"¯¯¯¯¯¯¯¯®ÇÉÎÿÍÆË­¯¯¯¯¯¯";:PRINT@5*32,"¯¯¯¯¯¯¯®ÇÉÎÇÿËÍÆË­¯¯¯¯¯";:PRINT@6*32,"¯¯¯«ýÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿþ§";
262 PRINT@7*32,"¯¯¯¯«ýÿÿÿÿÿÿÿÿÿÿÿÿÿþ§¯";
270 H1$="YOU ARE IN PORT SAID...":H9$="ENTER YOUR COMMANDS":GOSUB330:DES=1:GOSUB350
300 FORY=16TO22STEP2:FORX=1TO63STEP2:SET(X,Y,Z):NEXTX:NEXTY 
305 FORY=24TO30STEP2:FORX=1TO63STEP2:SET(X,Y,1):NEXTX:NEXTY
307 IFZ=8THENRETURN
310 PRINT@0,"¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯§§·¿¿¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯©«½¿¿¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯©®§©";
320 RETURN
330 PRINT@448," ":PRINT@384,H1$:PRINT@416,H9$:RETURN
345 GOSUB330
350 INPUTR1$:SOUND1,1:ONDESGOTO360,380,400,410,420
360 IFR1$="WAIT"ORR1$="FIND AGENT"ORR1$="CONTACT AGENT"ORR1$="SIGNAL AGENT"THEN460
361 IFR1$="N"THENFORY=1TO8:FORX=1TO8:CLSX:NEXT:CLS3:NEXTY:PRINT@256,"YOU HAVE FALLEN IN THE WATER    AND DROWNED":GOTO1400
362 IFR1$="S"THENN=0:GOTO720
363 IFR1$="E"THEN500
364 IFR1$="W"THEN670
379 H9$="ENTER SOMETHING ELSE":H1$="I DON'T UNDERSTAND":GOSUB330:GOTO350
380 IFR1$="GET ROOM"ORR1$="REQUEST ROOM"ORR1$="ASK RECEPTIONIST"THEN550
382 IFR1$="S"ORR1$="E"THENH1$="YOU CAN'T GO THERE.":GOSUB330:GOTO350
386 IFR1$="N"THENN1=60:GOTO570
388 IFR1$="W"THEN250
398 GOTO379
400 IFR1$="ENTER ROOM"THEN610
401 IFR1$="E"THEN665
402 IFR1$="W"THEN650
403 IFR1$="S"THEN500
409 GOTO379
410 IFR1$="ENTER MARKET"ORR1$="ENTER BOUTIQUE"ORR1$="ENTER STORE"ORR1$="GO MARKET"ORR1$="GO BOUTIQUE"THEN709
411 IFR1$="W"ORR1$="S"ORR1$="N"THEN675
412 IFR1$="ENTRER COMMERCE"THEN709
413 IFR1$="E"THEN250
419 GOTO379
420 IFR1$="PLAY CARDS"ORR1$="PLAY GAME"ORR1$="BEGIN PLAYING"THEN749
422 IFR1$="N"THENN=N+1:GOTO740
423 IFR1$="S"THENN=N-1:GOTO740
424 IFR1$="E"THENP=P+1:GOTO740
425 IFR1$="W"THENP=P-1:GOTO740
439 GOTO379
460 CLS:IFA1=1THEN480
461 IFA1=0THEN470
463 IFLI>499THEN491
465 IFA1=2THEN490
470 M$="OUR AGENT PRESENTS HIMSELF TO YOU. IHE KNOWS THE PERSON WHO CAN TAKE YOU TO THE TOMB. BUT IT WILL COST YOU..."
472 GOSUB8:PRINT"500 LIVRES.":M$="MEET HERE ONCE YOU HAVE THE MONEY.":GOSUB8
473 PRINT:M$="IN FACT A RIVAL AGENT, A CERTAIN DR. MULLER IS ALSO SEARCHING FOR THE SPHINX.":GOSUB8
475 GOSUB900:A1=1:GOTO250
480 M$="ANNOTHER MAN PRESENTS HIMSELF TO YOU.":GOSUB8
482 M$="HE SAYS HIS NAME IS MULLER HE'S THERE FOR BUSINESS. HE'S LOOKING FOR THE HOTEL 'AU PAYS DES MERVEILLES' "; 
483 M$=M$+"BUT AS LOOKS AT YOU MORE CLOSELY, HE TURNS WHITE AND RUSHES AWAY.":GOSUB900:A1=2:GOTO250
490 PRINT"YOU WAIT 10 MINUTES BUT NOTHING HAPPENS... SORRY...":GOSUB900:GOTO250
491 CLS:M$="AFTER A FEW MINUTES OF WAITING A MAN PRESENTS HIMSELF TO YOU, TAKES YOUR MONEY, AND SLIPS YOU "
492 M$=M$+"A MESSAGE.":GOSUB8:FORX=1TO6000:NEXTX:CLS:PO=2
493 PRINT"CNNGB GP XKNNG GV VTQWXGB PQVTG JQOOG KN XQWU CVVGPF...6UG+11Q  +3P":GOSUB900:GOTO250
500 CLS:M$="YOU ARE AT THE HOTEL 'AU PAYS DES MERVEILLES'; IN THE HALL, BEHIND THE COUNTER, STANDS A RECEPTIONIST."
501 GOSUB8:GOSUB900
505 CLS7:Z=8:GOSUB300
510 FORX=1TO30:FORY=13TO20:SET(X,Y,3):NEXTY:NEXTX:FORY=5TO15:FORX=41TO55:SET(X,Y,5):NEXTX:NEXTY
511 PRINT@0,   "èèèèèèèèèèïïïïïï";:PRINT@1*32,"èèèèèèèèèèïïïïïï";
512 PRINT@2*32,"èèèèèèèèèèïïïïïï";
513 PRINT@5*32,"¢£¡¢£¡¢£¡¢£¡¢£¡¢";:PRINT@6*32,"££££££££££££££££";
514 PRINT@7*32,"¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯";:PRINT@8*32,"¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯";
516 PRINT@52," "CHR$(95)"ROOMS ";:H1$="YOU ARE AT THE HOTEL":GOSUB330:DES=2:GOTO350
550 CLS:M$="THE RECEPTIONIST ASK YOU YOUR NAME":GOSUB8:INPUTNOM$:IFVOL=0THEN557
552 IFCLEF=2AND(NOM$="MULLER"ORNOM$="DR.MULLER")THEN568
555 IFNOM$="DR. MULLER"ORNOM$="MULLER"THENM$="THE RECEPTIONIST HANDS YOU A KEY... IT'S FOR ROOM '67'":GOSUB8:CLEF=2:GOTO565
557 IFNOM$="MULLER"ORNOM$="DR. MULLER"THEN568
560 M$="THE RECEPTIONIST LOOKS AT HIS BOOK AND TELLS YOU THAT HE CAN'T FIND YOUR RESERVATION.":GOSUB8
565 GOSUB900:GOTO505
568 PRINT"IT'S ROOM 67...":PRINT"THE RECEPTIONIST IS SORRY, HE DOESN'T HAVE YOUR ROOM KEY":GOTO565
570 CLS:M$="YOU ENTER A HALL WITH THE ROOMS OF THE HOTEL.":GOSUB8
572 GOSUB900
575 CLS(7):Z=8:GOSUB300:A=5
580 FORY=7TO15STEP2:FORX=ATOA+8STEP2:SET(X,Y,5):NEXTX:NEXTY:A=A+12:IFA<59THEN580
582 SET(4,13,3):SET(16,13,3):SET(28,13,3):SET(40,13,3):SET(52,13,3):A=92:FORX=N1TON1+4:A=A+6:PRINT@A," "X;:NEXTX 
595 H1$="YOU ARE IN FRONT OF THE ROOMS":GOSUB330:DES=3:GOSUB350
610 CLS:PRINT"WHICH ROOM NUMBER?":INPUTNO:IFNO<N1ORNO>N1+4THENPRINT"I DON'T SEE IT.":GOTO572
625 IFCLEF<>2ORNO<>67THENM$="YOU ARE CAUGHT FOR BREAKING-AND-ENTERING, AND LIVE OUT YOUR DAYS IN PRISON...":GOSUB8:GOTO1400
627 IFAA=1THEN640
630 M$="INSIDE THE ROOM YOU FIND YOUR WALLET WITH 100 LIVRES.":GOSUB8
640 M$="YOU HAVE NOTHING MORE TO DO HERE.":GOSUB8:AA=1:PLAN=1:GOTO572
650 IFN1<50ORN1>95THEN CLS:M$="YOU CAN'T GO ANY FUTHER":GOSUB8:FORX=1TO5000:NEXTX:GOTO575
660 N1=N1-5:GOTO575:IFN1>95THENN1=49:GOTO650
665 N1=N1+5:IFN1>95THEN650
666 GOTO575
670 CLS:M$="YOU ARE AT THE MARKET OF PORT SAID. AROUND YOU ARE MANY BUSINESSES.":GOSUB8:GOSUB900
675 CLS(3):Z=2:GOSUB300:A=3:GOSUB680:GOTO700
680 A=RND(0)*10:IFA<2THEN680
681 B=RND(0)*10:C=RND(0)*100:IFC>30ORC<B+19THEN681
682 D=RND(0)*10:IFD<8THEN682
683 E=C+(RND(0)*10)+3:F=RND(0)*100:IFF>61ORF<E+19THEN683
684 Z1=INT(RND(0)*4)+1:Z2=INT(RND(0)*4)+1:GOSUB810:FORY=ATO20STEP2:FORX=BTOCSTEP2:SET(X,Y,Z1):NEXTX:NEXTY
685 FORY=DTO20STEP2:FORX=ETOFSTEP2:SET(X,Y,Z2):NEXTX:NEXTY:H=B+4:G=14
688 FORY=GTOG+4:FORX=HTOH+4:SET(X,Y,5):NEXTX:NEXTY:IFH=B+4THENH=E+4:GOTO688
689 B=A+4:A=C-5
690 FORY=BTOB+2:FORX=ATOA+2:SET(X,Y,5):NEXTX:NEXTY:IFA=C-5THENA=F-7:B=D+4:GOTO690
691 RETURN
700 H1$="YOU ARE IN THE MARKET":GOSUB330:DES=4:GOTO350
709 CLS:IFVOL=2THENM$="AT THIS HOUR ALL THE STORES ARE CLOSED.":GOSUB8:GOSUB900:GOTO675
710 CLS:M$="YOU HAVEN'T EVEN GONE 3 STEPS BEFORE TWO THUGS KNOCK YOU DOWN AND TAKE ALL YOUR BELONGINGS.":GOSUB8
711 GOSUB900:VOL=2:GOTO675
720 CLS:M$="YOU ARE IN THE CENTRE OF TOWN. AT THIS HOUR THERE AREN'T MANY PEOPLE AROUND, "
722 M$=M$+"ONLY THE PEOPLE PLAYING CARDS.":GOSUB8:GOSUB900
725 CLS(3):Z=5:GOSUB300:A=6:GOSUB680:H1$="YOU ARE IN TOWN":GOSUB330:DES=5:GOTO350
740 IFN=1ANDP=0THEN250
742 IFN=-3ANDP=-5THEN800
745 GOTO725
749 IFPLAN=0ORLI>500THEN790
750 CLS:INPUT"A MAN PROPOSES TO YOU A GAME OF DOUBLE OR NOTHING. DO YOU PLAY"R1$
755 IFR1$="Y"ORR1$="YES"THEN760
756 GOTO725
760 CLS:PRINT@102,"LIVRES":PRINT@32,"HOW MUCH DO YO BET?"
761 PRINT:INPUTSI:PRINT@102,"LIVRES":IFSI>LITHEN:PRINT:PRINT"WE DON'T LIKE CHEATERS HERE":FORX=1TO5000:NEXTX:GOTO725
762 X=INT(RND(0)*50):A=0:IFX<5THEN762
763 A=A+1:PRINT@162,"YOU LOSE":IFA=XTHEN767
764 FORY=1TOA:NEXTY:SOUNDA,1:A=A+1:PRINT@162,"YOU WIN":IFA=XTHEN770
765 FORY=1TOA:NEXTY:SOUNDA,1:GOTO763
767 PRINT@320,"YOU LOSE"SI"LIVRES":LI=LI-SI:PRINT@384,"YOU HAVE"LI"LIVRES"
768 IFLI<1THENPRINT"YOU HAVE LOST EVERYTHING! YOU WALLOW IN SELF-PITY...":GOTO1400
769 FORX=1TO5000:NEXTX:GOTO775
770 PRINT@320,"YOU WIN "SI" LIVRES":LI=LI+SI:PRINT@384,"YOU HAVE"LI"LIVRES":FORX=1TO5000:NEXTX
772 IFLI>500THEN790
775 CLS:INPUT"WILL YOU PLAY AGAIN";R1$:IFR1$="Y"ORR1$="YES"THEN760
780 GOTO725
790 CLS:M$="NOBODY WANTS TO PLAY WITH YOU-- MAYBE LATER":GOSUB8:GOSUB900:GOTO725
800 CLS:M$="YOU FIND YOUR CONTACT... HE TAKES YOU TO THE TOMB AND LEAVES YOU THERE.":GOSUB8:GOSUB900
803 OT=4:FORZZ=1TO2500:NEXT
805 GOTO1 
810 IFZ1=3THENZ1=7
814 IFZ2=3THENZ2=7
820 IFZ1=2THENZ1=6
822 IFZ2=2THENZ2=6
825 RETURN
900 PRINT@483,"hit space bar to continue";
905 IFINKEY$=" "THENSOUND1,1:RETURN
910 GOTO905
1400 FORX=1TO5000:NEXTX
1500 CLS:INPUT"DO YOU WANT TO TRY AGAIN";R1$
1510 IFR1$="YES"ORR1$="Y"THENA1=0:VOL=0:PLAN=0:GOTO240
1520 IFR1$="NO"ORR1$="N"THENEND
