0 CLEAR200:DIMC1,C2,C3,M,M$:M=16383:C1=RND(-(PEEK(9)*256+PEEK(10))):GOTO10
7 C1=(PEEK(17024)AND1)*256+PEEK(17025)+M:FORC2=1TOLEN(M$):C3=ASC(MID$(M$,C2)):POKEC1+C2,C3-(C3AND64):NEXT:?@C1-M+C2-1,:RETURN
10 CLS:PRINT@42,;:M$="TOURIST TRAP":GOSUB7:PRINT
20 PRINTTAB(10);:M$="------- ----":GOSUB7:PRINT
30 GOSUB1630
50 X=0
60 S=30
70 W=1
80 PRINT"HERE WE GO ON A TRIP THROUGH"
90 PRINT"LONDON TOWN..."
100 PRINT
110 PRINT"YOU HAVE $30 AND YOU'RE TRYING"
120 PRINT"TO GET TO BUCKINGHAM PALACE"
130 PRINT"(THE PALACE IS ON FOOTPATH 10)"
140 PRINT"IF YOU GET THERE YOU'LL NEED"
150 PRINT"$35 TO BRIBE YOUR WAY IN.":PRINT
160 PRINT
170 PRINT,"PRESS enter";
180 INPUT A$:CLS
190 IFNOT(A$="")THENEND
200 GOSUB1610
220 IFW<1ANDRND(10)>8THEN1730
225 IFW<1THENW=1
230 CLS:PRINT"THIS IS FOOTPATH";W
250 IFW=10THEN1690
270 PRINT"SO YOU ARE ";:M$=MID$(STR$(ABS(10-W)),2):GOSUB7:PRINT" FROM THE PALACE"
280 PRINT
285 IFS<1THENS=RND(5)
290 PRINT"YOU HAVE $";S;"IN YOUR POCKET"
300 X=X+1
310 PRINT
320 M$="THIS IS PROBLEM"+STR$(X):GOSUB7
330 PRINT
350 K=1+RND(5):REM K=2+RND(5)?
360 PRINT
370 PRINT"YOU'RE FACING";K;
380 A=RND(4)
390 IFA=1THENPRINT"DOORS"
400 IFA=2THENPRINT"SHOPS"
410 IFA=3THENPRINT"PEDESTRIAN","CROSSINGS"
420 IFA=4THENPRINT"TUBE STATION","ENTRANCES"
450 PRINT
460 INPUT"WHICH ONE WILL YOU USE";B
470 B=INT(B):IFB>KORB<1THEN460
480 GOSUB1610
500 IFRND(10)<4ORB=ATHENGOSUB1170
530 C=RND(4)
540 IFC=1THENPRINT"FOOL";
550 IFC=2THENPRINT"IDIOT";
560 IFC=3THENPRINT"HELP";
570 IFC=4THENPRINT"SURPRISE";
620 PRINT"! YOU'RE FACE TO FACE":PRINT"WITH A ";
630 A=RND(7)
640 IFA=4THENPRINT"GREEN  "
650 IFA=5THENPRINT"BLUE  "
660 IFA=6THENPRINT"BRIGHT RED  "
670 IFA=7THENPRINT"SICKLY YELLOW"
680 A=RND(5)
690 IFA=1THENB$="SMILING POLICEMAN"
700 IFA=2THENB$="BEWILDERED TOURIST"
710 IFA=3THENB$="TICKET INSPECTOR"
720 IFA=4THENB$="PARKING WARDEN"
730 IFA=5THENB$="BUS DRIVER"
740 A=RND(7)
750 IFA=1THENC$="PARKING TICKET"
810 IFA=2THENC$="PASS TO THE TOWER"
820 IFA=3THENC$="POSTCARD OF TRAFALGAR    SQUARE"
830 IFA=4THENC$="MAP OF CAMBRIDGE"
840 IFA=5THENC$="MONKEY ON A STICK"
850 IFA=6THENC$="PACK OF FISH AND CHIPS"
860 IFA=7THENC$="RINGSIDE SEAT AT OXFORD  CIRCUS"
900 PRINTB$:PRINT"WITH A ";
910 PRINTC$
930 PRINT:PRINT"HOW DO YOU REACT?"
940 M$="1":GOSUB7:PRINT" SPIT ";:M$="2":GOSUB7:PRINT" SWEAR ";:M$="3":GOSUB7:PRINT" SCREAM FOR HELP";
955 M$="4":GOSUB7:PRINT" POKE AT IT WITH A STICK"
960 M$="5":GOSUB7:PRINT" SAY YOU DONT SPEAK ENGLISH"
965 M$="6":GOSUB7:PRINT" SAY YOU'RE A STRANGER IN TOWN":M$="7":GOSUB7:PRINT" BOOK A FLIGHT TO PARIS"
971 M$="8":GOSUB7:PRINT" HAIL A CAB ";:M$="9":GOSUB7:PRINT" BUY A RIOT SHIELD";
972 M$="10":GOSUB7:PRINT" POINT THE OTHER WAY";
1000 INPUTA
1001 A=INT(A):IFA>10ORA<1THEN1000
1010 B=RND(10)
1020 GOSUB1610
1030 IFRND(5)=1ORA<BTHENA=B
1040 IFA=BTHENPRINT"YOU FOOLED THE":PRINTB$
1050 IFA=BTHENS=S+RND(10)
1050 IFA=BTHENPRINT"AND NOW YOU HAVE $";S
1070 IFA=BTHENW=W+RND(4)
1080 IFW>10THENW=10
1090 PRINT
1100 IFNOT(A=B)THENPRINT"THE ";B$:PRINT"OUTWITTED YOU"
1110 IFNOT(A=B)THENS=S-RND(5)
1130 IFW<10THENPRINT"YOU ARE CLOSE TO FOOTPATH";W
1140 GOTO160
1170 A=RND(4)
1180 IFA=1THENGOSUB1240
1181 IFA=2THENGOSUB1340
1182 IFA=3THENGOSUB1380
1183 IFA=4THENGOSUB1510
1190 GOTO190
1240 PRINT"YOU'VE FALLEN DOWN"
1250 B=RND(4)
1260 IFB=1THENPRINT"IN FRONT OF BIG BEN"
1270 IFB=2THENPRINT"IN THE STRAND"
1280 IFB=3THENPRINT"IN FRONT OF THE TRAFFIC IN":PRINT"PICCADILLY CIRCUS"
1290 IFB=4THENPRINTMID$(STR$(RND(99)),2);" STEPS TO THE THAMES"
1310 W=W-1
1320 S=S-RND(2):GOSUB1610
1330 RETURN
1340 PRINT"YOU ARE CAUGHT RIDING ON A"
1341 PRINT"NO.";RND(99);"BUS WITHOUT A TICKET"
1350 W=W-1
1360 S=S-RND(2)
1370 RETURN
1380 PRINT"YOU GAIN A":D=RND(6)
1381 IFD=1THENPRINT"STALE SALAD ROLL"
1382 IFD=2THENPRINT"TICKET TO THE PLANETARIUM"
1383 IFD=3THENPRINT"GOOD SEAT AT COVENT GARDEN"
1384 IFD=4THENPRINT"TUBE TICKET TO SHEPHERDS BUSH"
1385 IFD=5THENPRINT"SEAT UPSTAIRS ON A"RND(99)"BUS"
1450 IFD=6THENPRINT"BLACK EYE FROM A RUDE LOCAL"
1470 S=S+RND(5)
1480 W=W+RND(3)
1490 IFW>10THENW=10
1500 GOSUB1610:RETURN
1510 PRINT"YOU FIND A MAP OF LONDON"
1520 PRINT:PRINT
1540 PRINT"CHOOSE YOUR BONUS (UP TO $5)";
1550 INPUTA
1570 S=S+A*ABS((A<6))
1580 W=W-INT(A/2)
1590 RETURN
1610 FORI=1TO2500:NEXT:CLS
1630 PRINT:RETURN
1690 PRINT:PRINT"YOU ARE AT THE PALACE GATE"
1700 PRINT"DO YOU HAVE $35 TO BRIBE YOUR"
1710 INPUT"WAY IN? PRESS enter TO FIND OUT ";A$
1730 GOSUB1610
1740 IFS<35ANDW>5THENPRINT"YOU HAD ONLY $"S"SO"
1741 IFS<35ANDW>5THENPRINT"YOU'VE BEEN DEPORTED...":GOTO2000
1744 IFW<1ORS<35THENPRINT"YOU'VE FAILED AS A TOURIST"
1745 IFW<1ORS<35THENPRINT"AND BEEN BEHEADED...":GOTO2000
1760 PRINT"YES ,YOU HAVE $"S
1770 PRINT"THE RED CARPET AWAITS YOU..."
2000 PRINT:PRINT"PLAY AGAIN (Y/N)"
2010 A$=INKEY$
2020 IFA$="Y"THENRUN
2030 IFA$<>"N"THEN2010
2040 END
