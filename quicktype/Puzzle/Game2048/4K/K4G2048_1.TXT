0 CLS:CLEAR150:DIMG(5,5),C$(15),I,J,Z,X,Y,C,M,L,S,W,X$,H:GOSUB4:POKE65314,8:GOTO1000
1 G(X,Y)=1:RETURN
2 X=RND(4):Y=RND(4):IFG(X,Y)=0THENON-(RND(0)<.9)GOTO1:G(X,Y)=2:RETURN
3 GOTO2
4 FORI=3584TO3660:READJ:POKEI,J:NEXT:EXEC3584:RETURN
6 EXEC3630:RETURN
7 DATA206,16,103,48,141,0,63,172,65,39,34,166,196,167,141,0,62,236,65,237,141,0,57,134,126,167,196,175,65,142,188,171,182,255,255,129,180
8 DATA39,48,142,163,160,191,224,77,57,48,141,0,20,188,16,104,38,224,166,141,0,20,183,16,103,236,141,0,224,253,16,104,57,208,111,38,80,50,98,126
50 CLS:PRINT:IFM THENGOSUB2
70 L=1:W=0:FORI=1TO4:PRINT"  ";:FORJ=1TO4:IFG(I,J)=0THENPRINTC$(0);:NEXT:GOTO90
80 C=G(I,J):PRINTC$(C);:NEXT
90 PRINT"    ";:FORJ=1TO4:IFG(I,J)=11THENW=-1:L=0
130 IFG(I,J)=0THENL=0:PRINTC$(0);:GOTO150
140 C=G(I,J):X$=STR$(INT(2^G(I,J))):PRINTRIGHT$(C$(C)+RIGHT$(X$,LEN(X$)-1),5)LEFT$(C$(C),2);
150 NEXT:PRINT"    ";:FORJ=1TO4:IFG(I,J)=0THENPRINTC$(0);:NEXT:PRINT:NEXT:GOTO190
151 C=G(I,J):PRINTC$(C);:NEXT:PRINT:NEXT
190 X$=INKEY$:IFX$=""THEN190
200 IFW THENPRINT"YOU WIN!!!",:GOTO620
210 M=0:IFX$="0"THEN620
230 IFX$<>CHR$(94)THEN300
240 FORJ=1TO4:FORZ=1TO3:FORI=2TO4:IFG(I,J)THENIFG(I-1,J)=0THENG(I-1,J)=G(I,J):G(I,J)=0:M=1
250 NEXT:NEXT:FORI=2TO4:IFG(I,J)THENIFG(I-1,J)=G(I,J)THENG(I-1,J)=G(I,J)+1:G(I,J)=0:M=1:S=S+2^G(I-1,J)
280 NEXT:NEXT:FORJ=1TO4:FORZ=1TO3:FORI=2TO4:IFG(I,J)THENIFG(I-1,J)=0THENG(I-1,J)=G(I,J):G(I,J)=0:M=1
290 NEXT:NEXT:NEXT:GOTO600
300 IFX$<>CHR$(8)THEN400
310 FORI=1TO4:FORZ=1TO3:FORJ=2TO4:IFG(I,J)THENIFG(I,J-1)=0THENG(I,J-1)=G(I,J):G(I,J)=0:M=1
320 NEXT:NEXT:FORJ=2TO4:IFG(I,J)THENIFG(I,J-1)=G(I,J)THENG(I,J-1)=G(I,J)+1:G(I,J)=0:M=1:S=S+2^G(I,J-1)
330 NEXT:NEXT:FORI=1TO4:FORZ=1TO3:FORJ=2TO4:IFG(I,J)THENIFG(I,J-1)=0THENG(I,J-1)=G(I,J):G(I,J)=0:M=1
340 NEXT:NEXT:NEXT:GOTO600
400 IFX$<>CHR$(9)THEN500
410 FORI=1TO4:FORZ=1TO3:FORJ=3TO1STEP-1:IFG(I,J)THENIFG(I,J+1)=0THENG(I,J+1)=G(I,J):G(I,J)=0:M=1
420 NEXT:NEXT:FORJ=3TO1STEP-1:IFG(I,J)THENIFG(I,J+1)=G(I,J)THENG(I,J+1)=G(I,J)+1:G(I,J)=0:M=1:S=S+2^G(I,J+1)
430 NEXT:NEXT:FORI=1TO4:FORZ=1TO3:FORJ=3TO1STEP-1:IFG(I,J)THENIFG(I,J+1)=0THENG(I,J+1)=G(I,J):G(I,J)=0:M=1
440 NEXT:NEXT:NEXT:GOTO600
500 IFX$<>CHR$(10)THEN190
510 FORJ=1TO4:FORZ=1TO3:FORI=3TO1STEP-1:IFG(I,J)THENIFG(I+1,J)=0THENG(I+1,J)=G(I,J):G(I,J)=0:M=1
520 NEXT:NEXT:FORI=3TO1STEP-1:IFG(I,J)THENIFG(I+1,J)=G(I,J)THENG(I+1,J)=G(I,J)+1:G(I,J)=0:M=1:S=S+2^G(I+1,J)
530 NEXT:NEXT:FORJ=1TO4:FORZ=1TO3:FORI=3TO1STEP-1:IFG(I,J)THENIFG(I+1,J)=0THENG(I+1,J)=G(I,J):G(I,J)=0:M=1
540 NEXT:NEXT:NEXT:GOTO600
600 IFM=0ANDL THENPRINT"YOU LOSE!",:GOTO620
610 GOTO50
620 IFS>H THENH=S
630 PRINT"SCORE"S:PRINT"HIGH"H,"PLAY AGAIN Y/N?";
640 X$=INKEY$:IFX$="Y"THEN1020
650 IFX$="N"THENGOSUB86:END
660 GOTO640
1000 FORI=1TO7:C$(0)=C$(0)+CHR$(128):C$(1)=C$(1)+CHR$(143):NEXT:FORC=2TO8:FORI=1TO7:C$(C)=C$(C)+CHR$(143+((C-2)*16)):NEXT:NEXT
1010 FORC=9TO15:FORI=1TO7:C$(C)=C$(C)+CHR$(137+((C-8)*16)):NEXT:NEXT
1020 FORI=0TO5:FORJ=0TO5:G(I,J)=0:NEXT:NEXT:S=0:M=1:GOSUB2:GOTO50
