5 CLS:GOSUB4000
60 A$ = INKEY$: IF A$ <> " " THEN 60
70 DIM T(3)
80 X = RND(-(PEEK(9)*256+PEEK(10))):REM INITIALIZE RANDOM NUMBER GENERATOR
85 GOSUB 400:REM ADD SOUND EFFECT
90 GOSUB 500
95 CLS
100 PRINT "VIEW RULES? (Y/N)";
110 INPUT A$
120 IF A$="Y" THEN GOSUB 600
130 GOSUB 1000
140 PRINT "PLAY AGAIN? (Y/N)";
150 INPUT A$
160 IF A$="Y" THEN 90
170 END

400 REM SOUND EFFECT
410 SOUND113,1:SOUND129,1:SOUND142,1:SOUND149,1:SOUND161,1:SOUND87,1:SOUND113,1:RETURN

500 REM INITIAL SETUP
510 A = 5000: B = 5000
515 D = 0:REM INITIALIZE DAY COUNTER
520 RETURN

600 REM DISPLAY RULES
605 CLS
610 PRINT "THIS IS THE TOFU SHOP GAME."
620 PRINT "THE ORIGINAL PRICE OF TOFU IS"
630 PRINT "40 YEN, AND THE SALE PRICE IS"
640 PRINT "50 YEN. THE NUMBER SOLD PER"
650 PRINT "DAY DEPENDS ON THE WEATHER."
660 PRINT "ON SUNNY DAYS, 500 ARE SOLD;"
670 PRINT "CLOUDY, 300; RAINY, 100. TOFU"
680 PRINT "DOES NOT LAST, SO UNSOLD"
690 PRINT "AMOUNTS ARE DISCARDED. DECIDE"
700 PRINT "HOW MANY TO MAKE BASED ON"
710 PRINT "TOMORROW'S WEATHER FORECAST."
720 PRINT "WIN BY EXCEEDING 30,000 YEN"
730 PRINT "STARTING FROM 5,000 YEN."
740 PRINT "PRESS SPACE TO CONTINUE.";
750 A$ = INKEY$: IF A$ <> " " THEN 750
760 CLS
770 RETURN

1000 REM GAME LOOP
1005 CLS
1010 IF A >= 30000 OR B >= 30000 THEN GOSUB 1200: RETURN
1020 PRINT "YOUR FUNDS: "; A; " YEN"
1030 PRINT "COCO'S FUNDS: "; B; " YEN"
1040 D = D + 1:REM INCREMENT DAY COUNTER
1045 PRINT "DAYS ELAPSED: "; D
1050 GOSUB 1500
1060 L = INT(A / 40):REM LIMIT BASED ON AVAILABLE FUNDS
1070 GOSUB 2000
1080 GOSUB 2500
1090 GOSUB 3000
1100 GOTO 1010

1200 REM DISPLAY RESULTS
1205 CLS
1210 IF A > B THEN PRINT "YOU WIN!":GOTO 1220
1211 PRINT "THE COMPUTER WINS."
1220 PRINT "FINAL STATS..."
1230 PRINT "YOUR FINAL FUNDS: "; A; " YEN"
1240 PRINT "COCO'S FINAL FUNDS: "; B; " YEN"
1250 PRINT "TOTAL DAYS ELAPSED: "; D
1260 RETURN

1500 REM WEATHER FORECAST
1510 H = RND(101) - 1               :REM SUNNY PERCENTAGE BETWEEN 0 AND 100
1520 R = RND(101 - H) - 1           :REM RAINY PERCENTAGE BASED ON REMAINING
1530 C = 100 - H - R                :REM CLOUDY IS THE REMAINING PERCENTAGE
1540 PRINT "TOMORROW'S WEATHER FORECAST:"
1545 PRINT "SUNNY  "; H; "%"
1546 PRINT "CLOUDY "; C; "%"
1547 PRINT "RAIN   "; R; "%"
1560 RETURN

2000 REM INPUT TOFU PRODUCTION
2010 PRINT "HOW MANY TOFU TO MAKE?"
2015 PRINT "( 1 -";L;")";
2020 INPUT M
2030 IF M > 0 AND M <= L THEN RETURN
2040 GOTO 2010

2500 REM COMPUTER TOFU PRODUCTION
2510 C1 = INT(B / 40)
2520 RETURN

3000 REM WEATHER OUTCOME
3005 CLS
3010 X = RND(101) - 1
3020 IF X <= R THEN W$ = "RAIN": S = 100
3030 IF X > R AND X <= R + C THEN W$ = "CLOUDY": S = 300
3040 IF X > R + C THEN W$ = "SUNNY": S = 500
3050 PRINT "TODAY'S WEATHER: "; W$
3060 IF S < M THEN SOLD = S:GOTO 3070
3016 SOLD = M
3070 PA = SOLD * 50 - M * 40:REM CORRECT PROFIT CALCULATION FOR PLAYER
3080 IF S < C1 THEN SOLD = S:GOTO 3090
3081 SOLD = C1
3090 PB = SOLD * 50 - C1 * 40:REM CORRECT PROFIT CALCULATION FOR COMPUTER
3100 A = A + PA:REM ADD PROFITS
3110 B = B + PB
3120 IF A < 0 THEN A = 0
3130 IF B < 0 THEN B = 0
3140 RETURN
4000 CLS2
4001 PRINT"ŸŸŸŸŸŸŸŸŸŸŸŸŸŸŸŸ€ŸŸŸŸŸŸŸŸŸŸŸŸŸŸŸ";
4002 PRINT"ŸŸtofuŸshopŸŸŸŸŸŸŸŸfromŸŸŸ";
4003 PRINT"ŸŸŸŸŸŸŸŸŸŸŸŸŸ€ŸŸŸŸŸŸŸŸŸŸ";
4004 PRINT"ŸŸŸŸŸbyŸŸŸŸŸŸŸŸprologŸŸ";
4005 PRINT"ŸŸŸŸŸŸŸŸŸŸŸŸÀÀÀÀÀÀÀÀÀŸŸŸŸŸŸŸŸŸŸŸ";
4006 PRINT"ŸŸŸtakeokaŸÏÀÀÀÀÀÀÏŸŸsourceŸŸ";
4007 PRINT"ŸŸŸŸŸŸŸŸŸŸŸÏÏÀÀÀÀÀÀÏŸŸŸŸŸŸŸŸŸŸ";
4008 PRINT"ŸŸŸŸŸŸŸŸŸŸŸÀÏÏÀÀÀÏÀÏÏŸŸŸŸbyŸŸŸŸ";
4009 PRINT"ŸŸŸŸŸŸŸŸŸŸŸÏÏÀÏÏÏÏŸŸŸŸŸŸŸŸŸŸ";
4010 PRINT"ŸŸŸpressŸŸŸÏÏÏÏÏÏÏÏŸŸcarlosŸŸ";
4011 PRINT"ŸŸŸŸanyŸŸŸŸÏÏÏÏÏÏÏÏÏŸŸŸŸŸŸŸŸŸŸ";
4012 PRINT"ŸŸŸŸkeyŸŸŸŸÏÏÏÏÏÏÏÏÏŸŸcamachoŸ";
4013 PRINT"ŸŸŸŸŸŸŸŸÀÀÀÀÀÀÀÀÀŸŸŸŸŸŸŸ";
4014 PRINT"ŸŸŸŸŸŸŸŸÀßßßßßßßßßßßßßßßÀŸŸŸŸŸŸŸ";
4015 PRINT"ŸŸŸŸŸŸŸŸŸÀßßßßßßßßßßßßßŸŸŸŸŸŸŸŸ";
4016 PRINT"ŸŸŸŸŸŸŸŸŸŸÀÀÀŸŸŸŸŸŸŸŸ";:RETURN
4019 REM TOFU SHOP GAME BY TAKEOKA"
4020 REM ORIGINAL PROLOG CODE BY TAKEOKA"
4030 REM CONVERTED TO TRS-80 COCO BY"
4040 REM CARLOS CAMACHO"
4050 REM PRESS SPACE TO CONTINUE.";
