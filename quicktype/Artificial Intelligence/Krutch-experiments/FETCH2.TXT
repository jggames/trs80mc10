1 REM FETCH VER. 3.1
2 CLEAR 500
10 REM SUPERVISOR
20 GOSUB 100
30 GOSUB 160:REM INPUT
40 GOSUB 200:REM DETERMINE WHERE TO SEND CONTROL
50 IF X=1 THEN GOSUB 550:REM INTERROGATIVE SENTENCES
60 IF X=2 THEN GOSUB 830:REM REQUESTS
70 IF X=3 THEN GOSUB 290:REM DECLARATIVE SENTENCES
80 GOTO 30
100 REM INITIALIZATION
110 CLS
120 FOR I=0 TO 9
130 A$(0,I)='X'
140 NEXT I
150 RETURN 
160 REM INPUT
170 X=0
180 INPUT DA$
190 RETURN
200 REM DETERMINE WHERE TO SEND CONTROL
210 DA$=LEFT$(DA$,LEN(DA$) - 1)
220 IF MID$(DA$,1,3)="IS' THEN X=1: GOTO 280
230 IF MIDS(DA$,1,8)="REQUEST " THEN X=2: GOTO 280
240 FOR I=1 TO LEN(DA$)
250 IF MID$(DA$,I,4)=" IS " THEN X=3: GOTO 280
260 NEXT I
270 X=4
280 RETURN
290 REM DECLARATIVE SENTENCES
300 REM A. PARSER 
310 DL$=LEFT$(DA$,I-1):DR$=MID$(DA$,I+4)
320 FOR I=1 TO 6
330 READ AR$
340 IF MID$(DL$, 1, LEN(AR$))=AR$ THEN DL$=MID$(0L$, LEN(AR$) + 1)
350 NEXT I
360 RESTORE
370 FOR I=1 TO 6
380 READ AR$
390 IF MIDS<DR$, 1, LEN<ARSL)=AR$ THEN DR$= MID$(DR$, LEN<AR$1 + 1)
400 NEXT I
410 RESTORE
420 DATA Â€¢ A ., 1 AN ., 1 THE ., Â·A Â€¢, 'AN ., 'THE 1
430 " E: , DATA STORAGE
440 FOR I= 0 TO 9
450 IF A$(0, I)=DL$ THEN 500
460 NEXT I
470 FOR I= 0 TO 9
280
480 IF A$(0, I>='X' THEN A$(0, I>=DLS: AS<O, I+ LL A$(1, I>=DR$: AS(2, IL='X': GOTO 530
490 NEXT I
500 FOR J=1 TO 9
510 IF A$(J, I)='X' THEN A$(J, I>=DR$: A$(J + 1 , I>=Â· 'X': GOTO 530
520 NEXT J
530 PRINT 'OKAY,"
540 RETURN
550 REM INTERROGATIVE SENTENCES
560 A, PARSER
570 DA$ MID$(DA$, 4) 572 IF MLD$(DA$, 1 , 2)='A " THEN DA$= MID$(0A$, 3) 574 IF MID$(DA$, 1 , 3)='AN " THEN DA$= MID$(0A$, 4) 576 IF ML0$(DA$ , 1, 4)=" THE " THEN DA$= MLD$(0A$, 5) 580 FOR I= 1 TO LEN (OA$L 590 FDR J=1 TO 3
600 READ AR$
610 IF ML0$(0A$, I, LENCAR$1)=AR$ THEN DL$=LEFT$(DA$ , I - 1 ):DR$= MI0$(DA$, I+ LEN(AR$)): GOTO 660 
620 NEXT J
630 RESTORE
640 NEXT I
650 PRINT 'I DON'T UNDERSTAND ,": GOTO 820
660 RESTORE
700 " E:, DATA RETRIEVAL
710 FOR I= 0 TO 9
720 IF A$(0, I >=DL$ THEN GOTO 750
730
740
IF AS(O, I)='X' THEN PRINT 'I DON'T KNOW,": GOTO 820 NEXT 1
750
760
770
FOR I= 1 TO 9
FOR J=0 TO 9
IF A$(1, J)=DR$ THEN 780 ELSE BOO
780 IF A$(0, J)=DL$ THEN PRINT 'YES,": GOTO 820 79 0
BOO
IF A$(0, J)
<> DL$ THEN
DR$= A$( 0, J) 1 GOTO 7~0 NEXT J, I
810
820
PRINT 'I DON'T KNOW,"
RETURN
830 " REGUESTS
840 " A, PARSER 850 DL$ MID$(0A$, 9)
860 " E:, DATA RETRIEVAL
870 FOR I= 0 TO 9
880 IF A$(0, I)=DL$ THEN 910
890 NEXT I
900 PRINT 'I HAVE NO DATA CONCERNING
910 PRINT DL$" RS--Â·
920 FOR J=1 TO 9
930 IF A$(J, I>='X' THEN 960
940 PRINT A$(J, I>
950 NEXT J
960 RETURN 


FOR EXAMPLE, SUPPOSE THE USER TYPES IN THE FOLLOWING EIGHT DATA 
ITEMS: 

A COMPOSER IS A PERSON WHO WRITES MUSIC. 

MOZART IS THE SON OF LEOPOLD. 

AN IMPECUNIOUS PERSON IS A BORROWER OF MONEY 

HAYDN IS A RESIDENT OF VIENNA. 

MOZART IS A COMPOSER. 

HAYDN IS THE COMPOSER OF MANY SYMPHONIES. 

A COMPOSER IS AN IMPECUNIOUS PERSON. 

MOZART IS THE COMPOSER OF DON GIOVANNI. 

