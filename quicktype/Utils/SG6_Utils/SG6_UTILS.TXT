0 CLEAR200:DIML(1,2),XX,YY,X1,Y1,BY,MA,L,X,Y,Z,C1,A,B:GOTO99
1 XX=INT(X1/2):YY=INT(Y1/3):BY=MC+XX+YY*32:MA=L(X1-XX*2,Y1-YY*3)ORPEEK(BY):POKEBY,MA:RETURN
2 XX=INT(X1/2):YY=INT(Y1/3):BY=MC+XX+YY*32:C1=L(X1-XX*2,Y1-YY*3):MA=C1ORPEEK(BY):POKEBY,(NOT(NOTMAORC1)):RETURN
3 CLS0:POKE49151,4:RETURN
4 POKE49151,0:CLS:RETURN
5 XX=INT(X1/2):YY=INT(Y1/3):BY=MC+XX+YY*32:MA=PEEK(BY):C1=-((L(X1-XX*2,Y1-YY*3)ORMA)=MA):RETURN
7 L=(B-Y)/(A-X):FORZ=XTOASTEP1/SQR(L*L+1)*SGN(A-X):X1=Z+.5:Y1=L*Z+(Y-L*X)+.5:GOSUB1:NEXT:RETURN
8 L=(B-Y)/(A-X):FORZ=XTOASTEP1/SQR(L*L+1)*SGN(A-X):X1=Z+.5:Y1=L*Z+(Y-L*X)+.5:GOSUB2:NEXT:RETURN
9 FORC1=1TOLEN(M$):PRINTMID$(Z$,(ASC(MID$(M$,C1,1))-31)*2,2);:NEXT:RETURN
10 GOSUB3
20 X=0:Y=47:A=63:B=24:GOSUB7
25 PRINT@0,;
30 M$=" HIS IS A TEST                  ABCDEFGHIJKLMNOP                QRSTUVWXYZ./:;<=                >?@0123456789":GOSUB9
35 PRINT@0,CHR$(255);
40 X1=0:Y1=0
45 GOSUB5:PRINT@384,;:M$=STR$(C1):GOSUB9
50 I$=INKEY$:IFI$=""THEN50
51 IFI$="W"THENY1=Y1-1
52 IFI$="A"THENX1=X1-1
53 IFI$="S"THENX1=X1+1
54 IFI$="Z"THENY1=Y1+1
55 GOSUB5:IFC1=0THENGOSUB1
56 IFC1<>0THENGOSUB2
57 GOTO45
99 Z$="华报虎竣姜发惊华鲸吉┄Β"
100 L(0,0)=32:L(0,1)=8:L(0,2)=2:L(1,0)=16:L(1,1)=4:L(1,2)=1:MC=16384:GOTO10

