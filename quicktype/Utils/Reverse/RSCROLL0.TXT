0 CLS:CLEAR450,36762:GOSUB9000:M=16384:GOTO20
REM GOSUB 8 FOR INPUT, I$ IS OUTPUT, GOSUB4 FOR CLS, GOSUB 3 FOR CR AT SCREEN BOTTOM

3 PRINT@511,CHR$(127);:POKEM+479,32:RETURN
4 CLS0:PRINT@480,;:FORC1=1TO16:GOSUB3:NEXT:PRINT@.,;:RETURN

5 M$=INKEY$:IFM$=""THEN5
6 RETURN
7 C1=(PEEK(17024)AND1)*256+PEEK(17025)-1+M:FORC2=1TOLEN(M$):POKEC1+C2,ASC(MID$(M$,C2))AND63:NEXT:?@C1-M+C2,;:RETURN

8 I$="":C2=(PEEK(17024)AND1)*256+PEEK(17025)+M:POKEC2,96:C1=C2-M
9 GOSUB5:IFM$=CHR$(13)THENPOKEC2,32:RETURN
10 IFM$=CHR$(8)THENIFI$<>""THENI$=LEFT$(I$,LEN(I$)-1):POKEC2,32:C2=C2-1:POKEC2,96
11 IFM$<" "ORM$>"^"ORC2>M+510THEN9
12 POKEC2,ASC(M$)AND63:C2=C2+1:POKEC2,96:I$=I$+M$:GOTO9

20 GOSUB4
30 PRINT@480,;:M$="HIT ENTER? ":GOSUB7:GOSUB8:GOSUB3
40 GOTO30

9000 FORC2=0TO103:POKE36762+C2,PEEK(64022+C2):NEXT:FORC2=0TO4:POKE36762+C2,VAL(MID$("4949605554",C2*2+1,2))
9001 NEXT:POKE36855,32:POKE17033,143:POKE17034,154:POKE17032,126:RETURN
